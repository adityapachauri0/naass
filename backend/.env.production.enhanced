# Production Environment Variables for NAASS Backend
# Enhanced with security and isolation features

# Server Configuration
PORT=5007
NODE_ENV=production

# MongoDB Configuration (Isolated Database)
MONGODB_URI=mongodb://localhost:27017/naass_db

# Security Keys
JWT_SECRET=naass-super-secure-jwt-secret-key-production-2025-change-this
SESSION_SECRET=naass-super-secure-session-secret-production-2025-change-this
ADMIN_USERNAME=admin@naass.co.uk
ADMIN_PASSWORD=admin123

# CORS Configuration
CORS_ALLOWED_ORIGINS=https://naass.co.uk,https://www.naass.co.uk
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_AUTH_MAX=5
RATE_LIMIT_CONTACT_MAX=10

# Redis Configuration (for caching and rate limiting)
ENABLE_REDIS_CACHE=true
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=1
REDIS_KEY_PREFIX=naass:

# Email Configuration
EMAIL_SERVICE=sendgrid
SENDGRID_API_KEY=your-sendgrid-api-key
EMAIL_FROM=noreply@naass.co.uk
EMAIL_TO=info@naass.co.uk
EMAIL_RATE_LIMIT=10

# IP Geolocation
IP_API_KEY=your-ip-api-key
ENABLE_IP_TRACKING=true

# Logging
LOG_LEVEL=info
LOG_FILE=/var/www/naass/logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=30

# Monitoring
SENTRY_DSN=your-sentry-dsn
ENABLE_MONITORING=true
HEALTH_CHECK_INTERVAL=30000

# SSL/TLS
SSL_CERT_PATH=/path/to/cert.pem
SSL_KEY_PATH=/path/to/key.pem
FORCE_HTTPS=true

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=naass-backups
BACKUP_ENCRYPTION_KEY=your-backup-encryption-key

# AWS S3 (for file uploads and backups)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=eu-west-2
AWS_S3_BUCKET=naass-uploads

# Performance
ENABLE_COMPRESSION=true
COMPRESSION_LEVEL=6
CACHE_TTL=3600
STATIC_CACHE_MAX_AGE=2592000

# Security Headers
HELMET_CSP_ENABLED=true
HELMET_HSTS_MAX_AGE=31536000
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff
X_XSS_PROTECTION=1; mode=block

# Database Maintenance
CLEANUP_OLD_DRAFTS_DAYS=30
CLEANUP_REJECTED_LEADS_DAYS=90
ARCHIVE_CONVERTED_LEADS_DAYS=180
RUN_MAINTENANCE_CRON=0 3 * * *

# Resource Limits (PM2)
MAX_MEMORY_RESTART=500M
MAX_RESTARTS=10
MIN_UPTIME=10s

# Feature Flags
ENABLE_AUTO_SAVE=true
ENABLE_EXPORT=true
ENABLE_BULK_OPERATIONS=true
ENABLE_ANALYTICS=true

# API Keys (for third-party services)
GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX
GOOGLE_RECAPTCHA_KEY=your-recaptcha-key
GOOGLE_RECAPTCHA_SECRET=your-recaptcha-secret

# Webhook URLs (for notifications)
WEBHOOK_NEW_LEAD=
WEBHOOK_ERROR=
SLACK_WEBHOOK_URL=

# Testing (disable in production)
DISABLE_RATE_LIMIT=false
BYPASS_AUTH=false
DEBUG_MODE=false